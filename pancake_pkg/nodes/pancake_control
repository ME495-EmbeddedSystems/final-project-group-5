#!/usr/bin/env python

import rospy
import sys
import moveit_commander

class ManipulatorControl:
    def __init__(self):
        # initialize moveit commander
        moveit_commander.roscpp_initialize(sys.argv)

        # parameters

        # pubs, subs, servs, etc.

        # instantiate robot commander object
        self.robot = moveit_commander.RobotCommander()

        # instantiate scene object
        self.scene = moveit_commander.PlanningSceneInterface()

        # instantiate move groups
        self.arm_move_group = moveit_commander.MoveGroupCommander('panda_arm')
        self.gripper_move_group = moveit_commander.MoveGroupCommander('hand')
    
    def open_gripper(self):
        self.gripper_move_group.set_named_target('open')
        self.gripper_move_group.go()
        self.gripper_move_group.stop()
    
    def close_gripper(self):
        self.gripper_move_group.set_named_target('close')
        self.gripper_move_group.go()
        self.gripper_move_group.stop()

    
def main():
    """
    the main() function
    """
    rospy.init_node('manipulator')
    node = ManipulatorControl()
    rospy.spin()


if __name__ == '__main__':
    try:
        main()
    except rospy.ROSInterruptException:
        pass